Учебная виртуальная машина (УВМ)
Практическая работа по дисциплине «Конфигурационное управление»
Вариант №8

1. Общее описание проекта

Данный проект представляет собой реализацию учебной виртуальной машины (УВМ), включающей:

- ассемблер
- интерпретатор машинного кода
- модель памяти и регистров
- поддержку базовых и арифметико-логических операций.

Проект выполнен в рамках практической работы по дисциплине «Конфигурационное управление» в соответствии с требованиями методических указаний (Вариант №8).

Реализация выполнена на языке Python 3 и предназначена для запуска в среде разработки PyCharm.

2. Структура проекта
uvm_variant8/
  - assembler.py # Ассемблер УВМ
  - interpreter.py # Интерпретатор машинного кода
  - instructions.py # Описание кодов операций
  - memory.py # Модель памяти и регистров
  examples/
    - test.asm # Пример ассемблерной программы
  output/
    - dump.json # Дамп памяти после выполнения
  - README.md # Документация проекта

3. Поддерживаемые команды УВМ

3.1 LOAD — загрузка константы

Назначение:
Загружает константное значение в регистр.

Формат команды:
LOAD <константа> <адрес_регистра>

Описание полей:

A = 10 — код операции
B — константа (21 бит)
C — адрес регистра (6 бит)

Размер команды: 4 байта


3.2 READ — чтение из памяти

Назначение:
Считывает значение из памяти по адресу (регистр + смещение) и сохраняет его в регистр.

Формат команды:
READ <смещение> <адрес_регистра_источника> <адрес_регистра_назначения>

Размер команды: 4 байта

3.3 WRITE — запись в память

Назначение:
Записывает значение регистра в память по адресу (регистр + смещение).

Формат команды:
WRITE <смещение> <адрес_регистра> <адрес_базового_регистра>

Размер команды: 4 байта

3.4 NOT — унарная операция «побитовое НЕ»

Назначение:
Выполняет побитовую инверсию значения и сохраняет результат в память.

Формат команды:
NOT <адрес_регистра> <адрес_памяти> <смещение>

Размер команды: 6 байт

4. Ассемблер

Ассемблер выполняет следующие функции:

- читает текстовую программу на языке ассемблера;
- преобразует команды во внутреннее представление;
- формирует машинный код в соответствии со спецификацией УВМ;
- записывает результат в бинарный файл.

Пример ассемблерной программы:
LOAD 185 50
READ 489 25 54
WRITE 102 30 44
NOT 1 549 41

5. Интерпретатор

Интерпретатор:
- загружает бинарный файл с машинным кодом;
- выполняет основной цикл интерпретации;
- обрабатывает команды УВМ;
- использует объединённую память команд и данных;
- сохраняет дамп памяти в формате JSON.

6. Модель памяти

- Память реализована в виде массива фиксированного размера.
- Регистры представлены отдельным массивом.
- Адресация памяти осуществляется через значения регистров и смещения.

7. Сборка проекта
Ассемблирование программы:

python assembler.py examples/test.asm program.bin


После выполнения команды будет создан бинарный файл program.bin.

8. Запуск интерпретатора

python interpreter.py program.bin output/dump.json 0 100

Где:
- program.bin — бинарный файл программы,
- dump.json — файл дампа памяти,
- 0 100 — диапазон адресов памяти для сохранения.

9. Формат дампа памяти

Дамп памяти сохраняется в формате JSON:

[
  0,
  12,
  -45,
  255,
  ...
]


Каждый элемент массива соответствует значению в ячейке памяти.

10. Примеры использования

- Проверка загрузки констант
- Копирование массива в памяти
- Применение операции побитового «НЕ» к вектору данных
- Отладка работы адресации и регистров

11. Соответствие этапам практической работы
12. Этап Выполнение
- Этап 1 Ассемблер и промежуточное представление
- Этап 2 Формирование машинного кода
- Этап 3 Интерпретатор и память
- Этап 4 Реализация операции NOT
- Этап 5 Решение тестовой задачи

14. Используемые технологии

- Python 3.10+
- PyCharm
- JSON
- Git (публичный репозиторий)
